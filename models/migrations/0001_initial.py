# Generated by Django 4.1 on 2023-05-16 09:06

from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = []

    operations = [
        migrations.CreateModel(
            name="Chat",
            fields=[
                ("c_id", models.AutoField(primary_key=True, serialize=False)),
                ("c_name", models.CharField(max_length=255)),
                ("c_description", models.CharField(max_length=255)),
                ("c_create_time", models.DateTimeField()),
                ("c_last_modify_date", models.DateTimeField()),
            ],
            options={"db_table": "Chat", "managed": True,},
        ),
        migrations.CreateModel(
            name="Group",
            fields=[
                ("g_id", models.AutoField(primary_key=True, serialize=False)),
                ("g_name", models.CharField(max_length=255)),
                ("g_description", models.CharField(max_length=255)),
                ("g_create_time", models.DateTimeField()),
                ("g_last_modify_time", models.DateTimeField()),
            ],
            options={"db_table": "Group", "managed": True,},
        ),
        migrations.CreateModel(
            name="Media",
            fields=[
                ("m_id", models.AutoField(primary_key=True, serialize=False)),
                ("m_name", models.CharField(max_length=255)),
                ("m_type", models.IntegerField()),
                ("m_rate", models.FloatField(blank=True, null=True)),
                ("m_rate_num", models.IntegerField(blank=True, null=True)),
                ("m_heat", models.IntegerField(blank=True, null=True)),
                ("m_json", models.JSONField()),
            ],
            options={"db_table": "Media", "managed": True,},
        ),
        migrations.CreateModel(
            name="Picture",
            fields=[
                ("p_id", models.AutoField(primary_key=True, serialize=False)),
                ("p_content", models.ImageField(upload_to="")),
                ("p_father_text_id", models.IntegerField(blank=True, null=True)),
            ],
            options={"db_table": "Picture", "managed": True,},
        ),
        migrations.CreateModel(
            name="User",
            fields=[
                ("u_id", models.AutoField(primary_key=True, serialize=False)),
                ("u_name", models.CharField(max_length=255)),
                ("u_password", models.CharField(max_length=255)),
                ("u_email", models.CharField(blank=True, max_length=255, null=True)),
                (
                    "u_profile_photo",
                    models.ForeignKey(
                        blank=True,
                        db_column="u_profile_photo",
                        null=True,
                        on_delete=django.db.models.deletion.DO_NOTHING,
                        to="models.picture",
                    ),
                ),
            ],
            options={"db_table": "User", "managed": True,},
        ),
        migrations.CreateModel(
            name="Userchat",
            fields=[
                ("uc_id", models.AutoField(primary_key=True, serialize=False)),
                ("uc_time", models.DateTimeField()),
                (
                    "uc_c",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.DO_NOTHING, to="models.chat"
                    ),
                ),
                (
                    "uc_u",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.DO_NOTHING, to="models.user"
                    ),
                ),
            ],
            options={"db_table": "UserChat", "managed": True,},
        ),
        migrations.CreateModel(
            name="Text",
            fields=[
                ("t_id", models.AutoField(primary_key=True, serialize=False)),
                ("t_type", models.IntegerField()),
                ("t_media_id", models.IntegerField()),
                ("t_rate", models.FloatField(blank=True, null=True)),
                ("t_like", models.IntegerField(blank=True, null=True)),
                ("t_dislike", models.IntegerField(blank=True, null=True)),
                ("t_description", models.TextField(blank=True, null=True)),
                ("t_topic", models.CharField(blank=True, max_length=255, null=True)),
                ("t_father_id", models.IntegerField(blank=True, null=True)),
                (
                    "t_user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.DO_NOTHING, to="models.user"
                    ),
                ),
            ],
            options={"db_table": "Text", "managed": True,},
        ),
        migrations.CreateModel(
            name="Report",
            fields=[
                ("r_id", models.AutoField(primary_key=True, serialize=False)),
                ("r_details", models.TextField()),
                (
                    "r_text",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.DO_NOTHING, to="models.text"
                    ),
                ),
                (
                    "r_user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.DO_NOTHING, to="models.user"
                    ),
                ),
            ],
            options={"db_table": "Report", "managed": True,},
        ),
        migrations.CreateModel(
            name="Mediagroup",
            fields=[
                ("mg_id", models.AutoField(primary_key=True, serialize=False)),
                (
                    "mg_g",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.DO_NOTHING,
                        to="models.group",
                    ),
                ),
                (
                    "mg_m",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.DO_NOTHING,
                        to="models.media",
                    ),
                ),
            ],
            options={"db_table": "MediaGroup", "managed": True,},
        ),
        migrations.CreateModel(
            name="Mediachat",
            fields=[
                ("mc_id", models.AutoField(primary_key=True, serialize=False)),
                (
                    "mc_c",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.DO_NOTHING, to="models.chat"
                    ),
                ),
                (
                    "mc_m",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.DO_NOTHING,
                        to="models.media",
                    ),
                ),
            ],
            options={"db_table": "MediaChat", "managed": True,},
        ),
        migrations.AddField(
            model_name="media",
            name="m_profile_photo",
            field=models.ForeignKey(
                blank=True,
                db_column="m_profile_photo",
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                to="models.picture",
            ),
        ),
        migrations.AddField(
            model_name="group",
            name="g_profile_photo",
            field=models.ForeignKey(
                blank=True,
                db_column="m_profile_photo",
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                to="models.picture",
            ),
        ),
        migrations.AddField(
            model_name="chat",
            name="c_profile_photo",
            field=models.ForeignKey(
                blank=True,
                db_column="m_profile_photo",
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                to="models.picture",
            ),
        ),
        migrations.CreateModel(
            name="Usermedia",
            fields=[
                (
                    "um_u",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.DO_NOTHING,
                        primary_key=True,
                        serialize=False,
                        to="models.user",
                    ),
                ),
                ("um_time", models.DateTimeField()),
                ("um_type", models.IntegerField()),
                (
                    "um_m",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.DO_NOTHING,
                        to="models.media",
                    ),
                ),
            ],
            options={"db_table": "UserMedia", "managed": True,},
        ),
        migrations.CreateModel(
            name="Usergroup",
            fields=[
                (
                    "ug_u",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.DO_NOTHING,
                        primary_key=True,
                        serialize=False,
                        to="models.user",
                    ),
                ),
                ("ug_is_admin", models.IntegerField()),
                ("ug_time", models.DateTimeField()),
                (
                    "ug_g",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.DO_NOTHING,
                        to="models.group",
                    ),
                ),
            ],
            options={
                "db_table": "UserGroup",
                "managed": True,
                "unique_together": {("ug_u", "ug_g")},
            },
        ),
    ]
